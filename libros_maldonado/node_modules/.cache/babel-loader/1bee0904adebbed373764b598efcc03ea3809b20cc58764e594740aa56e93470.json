{"ast":null,"code":"// localStorageCRUD.js\n\nconst LOCAL_STORAGE_KEY = 'LibMal'; // Cambia esto según tu necesidad\n\nconst generateJSON = () => {\n  return `\n    {\n        \"cart\": [],\n        \"list\": []\n    }\n    `;\n};\nexport const initData = () => {\n  localStorage.setItem(LOCAL_STORAGE_KEY, generateJSON());\n};\n\n// Función para obtener los datos del Local Storage\nconst getData = () => {\n  const data = localStorage.getItem(LOCAL_STORAGE_KEY);\n  return data ? JSON.parse(data) : {\n    cart: [],\n    list: []\n  };\n};\n\n// Función para guardar datos en el Local Storage\nconst saveData = data => {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));\n};\n\n// Función para agregar un item al cart\nexport const addToCart = newItem => {\n  const currentData = getData();\n  const existingItem = currentData.cart.find(item => item.id === newItem.id);\n  if (existingItem) {\n    existingItem.cant += 1;\n    alert(\"Cantidad aumentada\");\n  } else {\n    currentData.cart.push({\n      ...newItem,\n      cant: 1\n    });\n    alert(\"Agregado al carrito\");\n  }\n  saveData(currentData);\n};\n\n// Función para actualizar la cantidad de un item en el cart\nexport const updateCartItem = (id, amount) => {\n  const currentData = getData();\n  const item = currentData.cart.find(item => item.id === id);\n  if (item) {\n    item.cant += amount;\n    if (item.cant <= 0) {\n      deleteCartItem(id);\n    } else {\n      saveData(currentData);\n    }\n  }\n};\n\n// Función para eliminar un item del cart\nexport const deleteCartItem = id => {\n  const currentData = getData();\n  currentData.cart = currentData.cart.filter(item => item.id !== id);\n  saveData(currentData);\n};\n\n// Función para agregar un item a la list\nexport const addToList = newItem => {\n  const currentData = getData();\n  currentData.list.push(newItem);\n  saveData(currentData);\n};\n\n// Función para eliminar un item de la list\nexport const deleteListItem = id => {\n  const currentData = getData();\n  currentData.list = currentData.list.filter(item => item.id !== id);\n  saveData(currentData);\n};\n\n// Función para obtener items del cart y list\nexport const getCart = () => {\n  return getData().cart;\n};\nexport const getList = () => {\n  return getData().list;\n};\nexport const getListItemIds = () => {\n  const currentData = getData();\n  return currentData.list.map(item => item.id);\n};\nexport const getCartItemIds = () => {\n  const currentData = getData();\n  return currentData.cart.map(item => item.id);\n};\nexport const downloadJSON = () => {\n  const data = localStorage.getItem(LOCAL_STORAGE_KEY);\n  const jsonData = data ? JSON.parse(data) : {\n    cart: [],\n    list: []\n  };\n  const jsonString = JSON.stringify(jsonData, null, 2);\n  const blob = new Blob([jsonString], {\n    type: 'application/json'\n  });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'data.json';\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n};\nexport const deleteJSON = () => {\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n};","map":{"version":3,"names":["LOCAL_STORAGE_KEY","generateJSON","initData","localStorage","setItem","getData","data","getItem","JSON","parse","cart","list","saveData","stringify","addToCart","newItem","currentData","existingItem","find","item","id","cant","alert","push","updateCartItem","amount","deleteCartItem","filter","addToList","deleteListItem","getCart","getList","getListItemIds","map","getCartItemIds","downloadJSON","jsonData","jsonString","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","deleteJSON","removeItem"],"sources":["C:/Users/User/OneDrive/Documentos/.Trabajo/MERN LIBMAL/libros_maldonado/src/backend/utils/JsonUtils.js"],"sourcesContent":["// localStorageCRUD.js\r\n\r\nconst LOCAL_STORAGE_KEY = 'LibMal'; // Cambia esto según tu necesidad\r\n\r\nconst generateJSON = () => {\r\n    return `\r\n    {\r\n        \"cart\": [],\r\n        \"list\": []\r\n    }\r\n    `;\r\n}\r\n\r\nexport const initData = () => {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, generateJSON());\r\n}\r\n\r\n// Función para obtener los datos del Local Storage\r\nconst getData = () => {\r\n    const data = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n    return data ? JSON.parse(data) : { cart: [], list: [] };\r\n};\r\n\r\n// Función para guardar datos en el Local Storage\r\nconst saveData = (data) => {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));\r\n};\r\n\r\n// Función para agregar un item al cart\r\nexport const addToCart = (newItem) => {\r\n    const currentData = getData();\r\n    const existingItem = currentData.cart.find(item => item.id === newItem.id);\r\n    if (existingItem) {\r\n        existingItem.cant += 1;\r\n        alert(\"Cantidad aumentada\");\r\n    } else {\r\n        currentData.cart.push({ ...newItem, cant: 1 });\r\n        alert(\"Agregado al carrito\");\r\n    }\r\n    saveData(currentData);\r\n};\r\n\r\n\r\n// Función para actualizar la cantidad de un item en el cart\r\nexport const updateCartItem = (id, amount) => {\r\n    const currentData = getData();\r\n    const item = currentData.cart.find(item => item.id === id);\r\n    if (item) {\r\n        item.cant += amount;\r\n        if (item.cant <= 0) {\r\n            deleteCartItem(id);\r\n        } else {\r\n            saveData(currentData);\r\n        }\r\n    }\r\n};\r\n\r\n// Función para eliminar un item del cart\r\nexport const deleteCartItem = (id) => {\r\n    const currentData = getData();\r\n    currentData.cart = currentData.cart.filter(item => item.id !== id);\r\n    saveData(currentData);\r\n};\r\n\r\n// Función para agregar un item a la list\r\nexport const addToList = (newItem) => {\r\n    const currentData = getData();\r\n    currentData.list.push(newItem);\r\n    saveData(currentData);\r\n};\r\n\r\n// Función para eliminar un item de la list\r\nexport const deleteListItem = (id) => {\r\n    const currentData = getData();\r\n    currentData.list = currentData.list.filter(item => item.id !== id);\r\n    saveData(currentData);\r\n};\r\n\r\n// Función para obtener items del cart y list\r\nexport const getCart = () => {\r\n    return getData().cart;\r\n};\r\n\r\nexport const getList = () => {\r\n    return getData().list;\r\n};\r\n\r\nexport const getListItemIds = () => {\r\n    const currentData = getData(); \r\n    return currentData.list.map(item => item.id); \r\n};\r\n\r\nexport const getCartItemIds = () => {\r\n    const currentData = getData();\r\n    return currentData.cart.map(item => item.id); \r\n};\r\n\r\nexport const downloadJSON = () => {\r\n    const data = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n    const jsonData = data ? JSON.parse(data) : { cart: [], list: [] }; \r\n    const jsonString = JSON.stringify(jsonData, null, 2); \r\n    const blob = new Blob([jsonString], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'data.json'; \r\n    document.body.appendChild(a); \r\n    a.click(); \r\n    document.body.removeChild(a); \r\n    URL.revokeObjectURL(url); \r\n};\r\n\r\nexport const deleteJSON = () => {\r\n    localStorage.removeItem(LOCAL_STORAGE_KEY); \r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}